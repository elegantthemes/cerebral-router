{"version":3,"sources":["../../src/factories/debounce.js"],"names":["createDebounce","time","execution","debounce","path","Promise","resolve","timer","discard","clearTimeout","setTimeout","continue","displayName","debounceFactory","shared","debounceSharedFactory"],"mappings":";;;;;AAAA,SAASA,cAAT,CAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACvC,WAASC,QAAT,OAA4B;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AAC1B,WAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACnC,UAAIJ,UAAUK,KAAd,EAAqB;AACnBL,kBAAUI,OAAV,CAAkBF,KAAKI,OAAL,EAAlB;AACAC,qBAAaP,UAAUK,KAAvB;AACD;;AAEDL,gBAAUK,KAAV,GAAkBG,WAAW,YAAW;AACtCR,kBAAUI,OAAV,CAAkBF,KAAKO,QAAL,EAAlB;AACAT,kBAAUK,KAAV,GAAkB,IAAlB;AACAL,kBAAUI,OAAV,GAAoB,IAApB;AACD,OAJiB,EAIfL,IAJe,CAAlB;AAKAC,gBAAUI,OAAV,GAAoBA,OAApB;AACD,KAZM,CAAP;AAaD;AACDH,WAASS,WAAT,GAAuB,gBAAgBX,IAAhB,GAAuB,IAA9C;;AAEA,SAAOE,QAAP;AACD;;AAED,SAASU,eAAT,CAAyBZ,IAAzB,EAA+B;AAC7B;AACA,MAAMC,YAAY,EAAEK,OAAO,IAAT,EAAeD,SAAS,IAAxB,EAAlB;;AAEA,SAAON,eAAeC,IAAf,EAAqBC,SAArB,CAAP;AACD;;AAEDW,gBAAgBC,MAAhB,GAAyB,YAAM;AAC7B;AACA,MAAMZ,YAAY,EAAEK,OAAO,IAAT,EAAeD,SAAS,IAAxB,EAAlB;;AAEA,SAAO,SAASS,qBAAT,CAA+Bd,IAA/B,EAAqC;AAC1C,WAAOD,eAAeC,IAAf,EAAqBC,SAArB,CAAP;AACD,GAFD;AAGD,CAPD;;kBASeW,e","file":"debounce.js","sourcesContent":["function createDebounce(time, execution) {\n  function debounce({ path }) {\n    return new Promise(function(resolve) {\n      if (execution.timer) {\n        execution.resolve(path.discard())\n        clearTimeout(execution.timer)\n      }\n\n      execution.timer = setTimeout(function() {\n        execution.resolve(path.continue())\n        execution.timer = null\n        execution.resolve = null\n      }, time)\n      execution.resolve = resolve\n    })\n  }\n  debounce.displayName = 'debounce - ' + time + 'ms'\n\n  return debounce\n}\n\nfunction debounceFactory(time) {\n  // New execution on every call\n  const execution = { timer: null, resolve: null }\n\n  return createDebounce(time, execution)\n}\n\ndebounceFactory.shared = () => {\n  // Shared execution\n  const execution = { timer: null, resolve: null }\n\n  return function debounceSharedFactory(time) {\n    return createDebounce(time, execution)\n  }\n}\n\nexport default debounceFactory\n"]}